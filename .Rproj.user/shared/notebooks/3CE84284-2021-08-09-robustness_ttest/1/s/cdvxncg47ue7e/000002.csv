"0","# Define empty results matrix "
"0","res_g <- matrix(0,ncol= 3,nrow=nrow(design))"
"0",""
"0","# Set column names"
"0","colnames(res_g) <- c(""emp_diff"",""power_tTest"",""power_pTest"")"
"0",""
"0",""
"0","# Run simulation"
"0","for(d in 1:nrow(design)){"
"0","  "
"0","  res <- matrix(0,ncol= 3,nrow=n_rep)"
"0","  colnames(res) <- c(""diff"",""p_tTest"",""p_pTest"")"
"0","  "
"0","  "
"0","  for(rep in 1:n_rep){"
"0","    "
"0","    # run function"
"0","    temp <- gen_data(N=design$N[d],mu1=design$mu1[d]) %>% test_data()"
"0","    "
"0","    # save results"
"0","    res[rep,1] <-  temp$mean_p1-temp$mean_p2"
"0","    res[rep,2] <-  temp$p_t"
"0","    res[rep,3] <-  temp$p_p"
"0","    "
"0","    "
"0","  }"
"0","  "
"0","  "
"0","  # Compute mean average coefficients and power (nur of sig results / nr of reps)"
"0","  "
"0","  res_g[d,] <- res %>%"
"0","    as.data.frame() %>%"
"0","    summarize(m_diff      = mean(diff),"
"0","              power_tTest = mean(p_tTest < alpha),"
"0","              power_zTest = mean(p_pTest < alpha)) %>% unlist()"
"0","  "
"0","}"
