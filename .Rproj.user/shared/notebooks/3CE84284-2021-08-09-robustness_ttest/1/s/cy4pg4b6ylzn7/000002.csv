"0","gen_data <- function(N = 100, n_trials = 8, mu1=0.7, mu2=0.5, var1 = 0.03, var2 = 0.03){"
"0","  "
"0","  ID <- 1:N"
"0","  group <- rep(c(""healthy"",""schizophrenia""),each=N/2)"
"0",""
"0","  ab_healthy <- estBetaParams(mu1,var1)"
"0","  ab_schizo  <- estBetaParams(mu2,var2)"
"0",""
"0","  data <- data.frame(""ID""=rep(ID,each=n_trials),""group"" = rep(group,each=n_trials),""trial""=rep(1:n_trials,N)) %>% "
"0","            group_by(ID) %>% "
"0","            mutate(sensitivity  = ifelse(group==""healthy"","
"0","                                        rbeta(1,ab_healthy$a,ab_healthy$b),"
"0","                                        rbeta(1,ab_schizo$a,ab_schizo$b))) %>% "
"0","            rowwise() %>% "
"0","            mutate(correct      = rbinom(1,1,sensitivity))"
"0","  "
"0","  return(data)"
"0","  "
"0","}"
